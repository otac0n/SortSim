<html>
<head>
    <title>Sort</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="jquery.animate-colors.js"></script>
    <link rel="stylesheet" type="text/css" href="renderers\Simple.css">
    <link rel="stylesheet" type="text/css" href="renderers\Bar.css">
</head>
<body>
    <select id="subjects"></select> <input id="count" value="100" /><br />
    <select id="algorithms1"></select>
    vs
    <select id="algorithms2"></select>
    <button id="go" type="button">Go</button>
    <div id="field1">
    </div>
    <div id="field2">
    </div>

    <script src="sort-sim.js"></script>
    <script src="renderers\Simple.js"></script>
    <script src="renderers\Bar.js"></script>
    <script src="sorts\BubbleSort.js"></script>
    <script src="sorts\CocktailSort.js"></script>
    <script src="sorts\CombSort.js"></script>
    <script src="sorts\GnomeSort.js"></script>
    <script src="sorts\HeapSort.js"></script>
    <script src="sorts\InsertionSort.js"></script>
    <script src="sorts\MergeSort.js"></script>
    <script src="sorts\OddEvenSort.js"></script>
    <script src="sorts\QuickSort.js"></script>
    <script src="sorts\SelectionSort.js"></script>
    <script src="sorts\ShellSort.js"></script>
    <script src="sorts\StoogeSort.js"></script>
    <script type="text/javascript">
        var sync = {
            speed: 20,
            stop: false
        };

        var Subjects = { };

        Subjects["Random"] = function (len) {
            var subject = [];
            subject.length = len;
            for (var i = 0; i < len; i++) {
                subject[i] = i + 1;
            }
            for (var a = len - 1; a >= 1; a--) {
                var b = Math.random() * a | 0;

                var temp = subject[a];
                subject[a] = subject[b];
                subject[b] = temp;
            }
            return subject;
        };

        Subjects["Reversed"] = function (len) {
            var subject = [];
            subject.length = len;
            for (var i = 0; i < len; i++) {
                subject[i] = len - i;
            }
            return subject;
        };

        Subjects["Nearly sorted"] = function (len) {
            var subject = [];
            subject.length = len;
            for (var i = 0; i < len; i++) {
                subject[i] = i + 1;
            }

            for (var i = 0; i < len * 2; i++) {
                var a = Math.random() * len | 0;
                var b = Math.random() * 3 | 0 - 1 + a;

                if (b >= len || b < 0) continue;

                var temp = subject[a];
                subject[a] = subject[b];
                subject[b] = temp;
            }

            return subject;
        };

        $(function () {
            for (var alg in SortAlgorithms) {
                $('<option />').attr('value', alg).text(SortAlgorithms[alg].name).appendTo('#algorithms1');
                $('<option />').attr('value', alg).text(SortAlgorithms[alg].name).appendTo('#algorithms2');
            }

            for (var sub in Subjects) {
                $('<option />').attr('value', sub).text(sub).appendTo('#subjects');
            }

            $('#go').click(function () {
                var subject = Subjects[$('#subjects').val()](+$('#count').val());

                var alg1 = $('#algorithms1').val();
                var alg2 = $('#algorithms2').val();

                var sort1 = SortAlgorithms[alg1].sort;
                var sort2 = SortAlgorithms[alg2].sort;

                operations = [];
                sort1(SortArray.create(subject));
                var result1 = operations;

                $('#field1').html('');
                RenderBar(result1, sync, $('#field1'));

                operations = [];
                sort2(SortArray.create(subject));
                var result2 = operations;

                $('#field2').html('');
                RenderBar(result2, sync, $('#field2'));
            });
        });
    </script>
</body>
</html>